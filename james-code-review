I was able to run your code without issue. I would find it helpful for the code to be commented more thoroughly so that the purpose of the code is understood at a glance thereby improving readability.
I did not find any defects with the application you provided. You properly handled the avoidance of bad user input. I was provided the data I was looking for.
You did your best in the circumstances to cover as much of the specifications and provide us with the neccessary data. (You are already aware of this) Our codes differ primarly in my use of a database connection.
**I hope you are feeling better! I commend you for being able to provide something workable no matter how horrible you felt.
